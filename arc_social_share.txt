# arc_social_share v1.2
# Social media share links
# Andy Carter
# http://andy-carter.com/

# ......................................................................
# This is a plugin for Textpattern - http://textpattern.com/
# To install: textpattern > admin > plugins
# Paste the following text into the 'Install plugin' box:
# ......................................................................

YToxMDp7czo0OiJuYW1lIjtzOjE2OiJhcmNfc29jaWFsX3NoYXJlIjtzOjc6InZlcnNpb24i
O3M6MzoiMS4yIjtzOjY6ImF1dGhvciI7czoxMToiQW5keSBDYXJ0ZXIiO3M6MTA6ImF1dGhv
cl91cmkiO3M6MjM6Imh0dHA6Ly9hbmR5LWNhcnRlci5jb20vIjtzOjExOiJkZXNjcmlwdGlv
biI7czoyNDoiU29jaWFsIG1lZGlhIHNoYXJlIGxpbmtzIjtzOjU6Im9yZGVyIjtzOjE6IjUi
O3M6NDoidHlwZSI7czoxOiIwIjtzOjQ6ImhlbHAiO3M6MzQyMjoiCTxoMT5hcmNfc29jaWFs
X3NoYXJlPC9oMT4KCgk8cD5FYXNpbHkgYWRkIGxpbmtzIGZvciBzaGFyaW5nIGNvbnRlbnQg
d2l0aCBudW1lcm91cyBzb2NpYWwgbmV0d29ya3MuPC9wPgoKCTxoMj5JbnN0YWxsYXRpb248
L2gyPgoKCTxwPlRvIGluc3RhbGwgZ28gdG8gJiM4MjE2O1BsdWdpbnMmIzgyMTc7IHVuZGVy
ICYjODIxNjtBZG1pbiYjODIxNzsgYW5kIHBhc3RlIHRoZSBwbHVnaW4gY29kZSBpbnRvIHRo
ZSAmIzgyMTY7SW5zdGFsbCBwbHVnaW4mIzgyMTc7IGJveCwgJiM4MjE2O3VwbG9hZCYjODIx
NzsgYW5kIHRoZW4gJiM4MjE2O2luc3RhbGwmIzgyMTc7LiBZb3Ugd2lsbCB0aGVuIG5lZWQg
dG8gYWN0aXZhdGUgdGhlIHBsdWdpbi48L3A+CgoJPGgyPlRoZSBUYWdzPC9oMj4KCgk8cD5B
bGwgdGFncyBoYXZlIHRoZSBmb2xsb3dpbmcgYXR0cmlidXRlczotPC9wPgoKCTx1bD4KCQk8
bGk+Y2xhc3M6IGNsYXNzIG5hbWUgdG8gYmUgYXBwbGllZCB0byB0aGUgbGluayB0YWc8L2xp
PgoJCTxsaT51cmw6IDxzcGFuIGNsYXNzPSJjYXBzIj5VUkw8L3NwYW4+IHRvIHNoYXJlLCB1
c2UgdGhpcyB0byBvdmVycmlkZSB0aGUgYXJ0aWNsZSYjODIxNztzIHBlcm1saW5rPC9saT4K
CTwvdWw+CgoJPHA+QWxsIHRhZ3MgYXBhcnQgZnJvbSA8Y29kZT5hcmNfc29jaWFsX3NoYXJl
X2dwbHVzPC9jb2RlPiBoYXZlIGEgJiM4MjE2O3RpdGxlJiM4MjE3OyBhdHRyaWJ1dGUgZm9y
IG92ZXJyaWRkaW5nIHRoZSBhcnRpY2xlJiM4MjE3O3MgdGl0bGUgdG8gYmUgaW5jbHVkZWQg
aW4gdGhlIHNoYXJlIGxpbmsuPC9wPgoKCTxoMz5EZWxpY2lvdXM8L2gzPgoKPHByZT48Y29k
ZT4mbHQ7dHhwOmFyY19zb2NpYWxfc2hhcmVfZGVsaWNpb3VzIC8mZ3Q7CjwvY29kZT48L3By
ZT4KCgk8aDM+RmFjZWJvb2s8L2gzPgoKPHByZT48Y29kZT4mbHQ7dHhwOmFyY19zb2NpYWxf
c2hhcmVfZmFjZWJvb2sgLyZndDsKPC9jb2RlPjwvcHJlPgoKCTxoMz5Hb29nbGUrPC9oMz4K
CjxwcmU+PGNvZGU+Jmx0O3R4cDphcmNfc29jaWFsX3NoYXJlX2dwbHVzIC8mZ3Q7CjwvY29k
ZT48L3ByZT4KCgk8aDM+TGlua2VkSW48L2gzPgoKPHByZT48Y29kZT4mbHQ7dHhwOmFyY19z
b2NpYWxfc2hhcmVfbGlua2VkaW4gLyZndDsKPC9jb2RlPjwvcHJlPgoKCTxoND5BZGRpdGlv
bmFsIEF0dHJpYnV0ZXM8L2g0PgoKCTx1bD4KCQk8bGk+c291cmNlOiBieSBkZWZhdWx0IHRo
aXMgaXMgeW91ciBzaXRlJiM4MjE3O3MgbmFtZTwvbGk+CgkJPGxpPnN1bW1hcnk6IHBhc3Mg
c29tZSBzdW1tYXJ5IHRleHQgdG8gTGlua2VkSW4gKExpbmtlZEluIHdpbGwgdHJ1bmNhdGUg
c3VtbWFyaWVzIGdyZWF0ZXIgdGhhbiAyNTYgY2hhcmFjdGVycyBsb25nKTwvbGk+Cgk8L3Vs
PgoKCTxoMz5QaW50ZXJlc3Q8L2gzPgoKPHByZT48Y29kZT4mbHQ7dHhwOmFyY19zb2NpYWxf
c2hhcmVfcGludGVyZXN0IC8mZ3Q7CjwvY29kZT48L3ByZT4KCgk8aDQ+QWRkaXRpb25hbCBB
dHRyaWJ1dGVzPC9oND4KCgk8dWw+CgkJPGxpPmltYWdlOiA8c3BhbiBjbGFzcz0iY2FwcyI+
VVJMPC9zcGFuPiB0byBhbiBpbWFnZSwgYnkgZGVmYXVsdCB0aGlzIGlzIHRoZSBhcnRpY2xl
JiM4MjE3O3MgaW1hZ2U8L2xpPgoJPC91bD4KCgk8aDM+UG9ja2V0PC9oMz4KCjxwcmU+PGNv
ZGU+Jmx0O3R4cDphcmNfc29jaWFsX3NoYXJlX3BvY2tldCAvJmd0Owo8L2NvZGU+PC9wcmU+
CgoJPGgzPlJlZGRpdDwvaDM+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6YXJjX3NvY2lhbF9zaGFy
ZV9yZWRkaXQgLyZndDsKPC9jb2RlPjwvcHJlPgoKCTxoMz5TdHVtYmxlVXBvbjwvaDM+Cgo8
cHJlPjxjb2RlPiZsdDt0eHA6YXJjX3NvY2lhbF9zaGFyZV9zdHVtYmxldXBvbiAvJmd0Owo8
L2NvZGU+PC9wcmU+CgoJPGgzPlR1bWJscjwvaDM+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6YXJj
X3NvY2lhbF9zaGFyZV90dW1ibHIgLyZndDsKPC9jb2RlPjwvcHJlPgoKCTxoMz5Ud2l0dGVy
PC9oMz4KCjxwcmU+PGNvZGU+Jmx0O3R4cDphcmNfc29jaWFsX3NoYXJlX3R3aXR0ZXIgLyZn
dDsKPC9jb2RlPjwvcHJlPgoKCTxoND5BZGRpdGlvbmFsIEF0dHJpYnV0ZXM8L2g0PgoKCTx1
bD4KCQk8bGk+bWVudGlvbjogYWRkcyBhIFR3aXR0ZXIgdXNlcm5hbWUgdG8gdGhlIGVuZCBv
ZiBhIHR3ZWV0ICg8aT5lLmcuPC9pPiAvQGRybW9ua2V5bmluamEpPC9saT4KCTwvdWw+CgoJ
PGgyPlVzYWdlPC9oMj4KCgk8cD5UaGUgbWFqb3JpdHkgb2YgdGhlIHRhZ3Mgd29yayB0aGUg
c2FtZSwgd2l0aCBhIGZldyBleGNlcHRpb25zIHdoZXJlIHRoZXJlIGFyZSBhZGRpdGlvbmFs
IHBhcmFtZXRlcnMgYXZhaWxhYmxlLjwvcD4KCgk8cD5UaGV5IGNhbiBhbGwgYmUgdXNlZCBh
cyBlaXRoZXIgYSBzaW5nbGUgdGFnIG9yIGEgd3JhcHBlciB0YWcuIEZvciBleGFtcGxlOi08
L3A+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6YXJjX3NvY2lhbF9zaGFyZV90d2l0dGVyIC8mZ3Q7
CjwvY29kZT48L3ByZT4KCgk8cD5vciw8L3A+Cgo8cHJlPjxjb2RlPiZsdDt0eHA6YXJjX3Nv
Y2lhbF9zaGFyZV90d2l0dGVyJmd0O1R3ZWV0IFRoaXMmbHQ7L3R4cDphcmNfc29jaWFsX3No
YXJlX3R3aXR0ZXImZ3Q7CjwvY29kZT48L3ByZT4KCgk8cD5UaGV5JiM4MjE3O3JlIGludGVu
ZGVkIHRvIHdvcmsgd2l0aGluIGFuIGluZGl2aWR1YWwgYXJ0aWNsZSBjb250ZXh0LCBzbyB1
c2VkIGluIGFuIGFydGljbGUgZm9ybS4gVGhlIDxzcGFuIGNsYXNzPSJjYXBzIj5VUkw8L3Nw
YW4+IHVzZWQgZm9yIHNoYXJpbmcgd2lsbCBiZSB0aGUgZGVmYXVsdCBwZXJtbGluayBjcmVh
dGVkIGJ5IFRleHRwYXR0ZXJuLiBIb3dldmVyLCB5b3UgY2FuIG92ZXJyaWRlIHRoZSA8c3Bh
biBjbGFzcz0iY2FwcyI+VVJMPC9zcGFuPjotPC9wPgoKPHByZT48Y29kZT4mbHQ7dHhwOmFy
Y19zb2NpYWxfc2hhcmVfdHdpdHRlciB1cmw9JiMzOTtodHRwOi8vd3d3LmV4YW1wbGUuY29t
JiMzOTsgLyZndDsKPC9jb2RlPjwvcHJlPgoKCTxwPkFsbCBsaW5rcyBjcmVhdGVkIGJ5IHRo
ZSB0YWdzIGFyZSA8c3BhbiBjbGFzcz0iY2FwcyI+VVJMPC9zcGFuPiBlbmNvZGVkLjwvcD4K
Cgk8cD5UaGUgcGx1Z2luIHdvbiYjODIxNzt0IGRvIGFueXRoaW5nIGZhbmN5IHdpdGggdGhl
IHdheSB0aGUgbGlua3Mgd29yayB3aGVuIGNsaWNrZWQuIFNvIGlmIHlvdSB3YW50IHRvIG9w
ZW4gdGhlIGxpbmtzIGluIGEgbmV3IHdpbmRvdyB5b3Ugd2lsbCBuZWVkIHRvIHB1dCBpbiBw
bGFjZSBzb21lIEphdmFTY3JpcHQgdG8gZG8gdGhpcyB5b3Vyc2VsZi4gWW91IGNhbiBlYXNp
bHkgYWRkIGEgY2xhc3MgdG8gdGhlIGxpbmtzIHRvIGhlbHAgdGFyZ2V0IHRoZW0gd2l0aCB5
b3VyIEphdmFTY3JpcHQ6LTwvcD4KCjxwcmU+PGNvZGU+Jmx0O3R4cDphcmNfc29jaWFsX3No
YXJlX3R3aXR0ZXIgY2xhc3M9JiMzOTtib29rbWFya2xldCYjMzk7IC8mZ3Q7CjwvY29kZT48
L3ByZT4iO3M6NDoiY29kZSI7czo1ODc4OiJnbG9iYWwgJHByZWZzLCAkdHhwY2ZnOwoKZnVu
Y3Rpb24gYXJjX3NvY2lhbF9zaGFyZV9kZWxpY2lvdXMoJGF0dHMsICR0aGluZz1udWxsKQp7
CglleHRyYWN0KGxBdHRzKGFycmF5KAoJCSdjbGFzcycgPT4gJycsCgkJJ3RpdGxlJyA9PiBu
dWxsLAoJCSd1cmwnID0+IG51bGwKCSksICRhdHRzKSk7CgoJJHRoaW5nID0gKCR0aGluZz09
PW51bGwpID8gJ1NoYXJlIG9uIERlbGljaW91cycgOiBwYXJzZSgkdGhpbmcpOwoKCSR1cmwg
PSBfYXJjX3NvY2lhbF9zaGFyZV91cmwoJHVybCk7CgkkdGl0bGUgPSBfYXJjX3NvY2lhbF9z
aGFyZV90aXRsZSgkdGl0bGUpOwoKCSRsaW5rID0gImh0dHA6Ly9kZWxpY2lvdXMuY29tL3Bv
c3Q/dXJsPSR1cmwmYW1wO3RpdGxlPSR0aXRsZSI7CgoJJGh0bWwgPSBocmVmKCR0aGluZywg
JGxpbmssICcgY2xhc3M9IicuJGNsYXNzLiciJyk7CgoJcmV0dXJuICRodG1sOwp9CgpmdW5j
dGlvbiBhcmNfc29jaWFsX3NoYXJlX2ZhY2Vib29rKCRhdHRzLCAkdGhpbmc9bnVsbCkKewoJ
ZXh0cmFjdChsQXR0cyhhcnJheSgKCQknY2xhc3MnID0+ICcnLAoJCSd0aXRsZScgPT4gbnVs
bCwKCQkndXJsJyA9PiBudWxsCgkpLCAkYXR0cykpOwoKCSR0aGluZyA9ICgkdGhpbmc9PT1u
dWxsKSA/ICdTaGFyZSBvbiBGYWNlYm9vaycgOiBwYXJzZSgkdGhpbmcpOwoKCSR1cmwgPSBf
YXJjX3NvY2lhbF9zaGFyZV91cmwoJHVybCk7CgkkdGl0bGUgPSBfYXJjX3NvY2lhbF9zaGFy
ZV90aXRsZSgkdGl0bGUpOwoKCSRodG1sID0gaHJlZigkdGhpbmcsICJodHRwOi8vd3d3LmZh
Y2Vib29rLmNvbS9zaGFyZS5waHA/dT0kdXJsJmFtcDt0aXRsZT0kdGl0bGUiCgkJLCAnIGNs
YXNzPSInLiRjbGFzcy4nIicpOwoKCXJldHVybiAkaHRtbDsKfQoKZnVuY3Rpb24gYXJjX3Nv
Y2lhbF9zaGFyZV9ncGx1cygkYXR0cywgJHRoaW5nPW51bGwpCnsKCWV4dHJhY3QobEF0dHMo
YXJyYXkoCgkJJ2NsYXNzJyA9PiAnJywKCQkndXJsJyA9PiBudWxsCgkpLCAkYXR0cykpOwoK
CSR0aGluZyA9ICgkdGhpbmc9PT1udWxsKSA/ICdTaGFyZSBvbiBHb29nbGUrJyA6IHBhcnNl
KCR0aGluZyk7CgoJJHVybCA9IF9hcmNfc29jaWFsX3NoYXJlX3VybCgkdXJsKTsKCgkkaHRt
bCA9IGhyZWYoJHRoaW5nLCAiaHR0cHM6Ly9wbHVzLmdvb2dsZS5jb20vc2hhcmU/dXJsPSR1
cmwiCgkJLCAnIGNsYXNzPSInLiRjbGFzcy4nIicpOwoKCXJldHVybiAkaHRtbDsKfQoKZnVu
Y3Rpb24gYXJjX3NvY2lhbF9zaGFyZV9saW5rZWRpbigkYXR0cywgJHRoaW5nPW51bGwpCnsK
CWdsb2JhbCAkcHJlZnM7CgoJZXh0cmFjdChsQXR0cyhhcnJheSgKCQknY2xhc3MnID0+ICcn
LAoJCSdzb3VyY2UnID0+IG51bGwsCgkJJ3N1bW1hcnknID0+IG51bGwsCgkJJ3RpdGxlJyA9
PiBudWxsLAoJCSd1cmwnID0+IG51bGwKCSksICRhdHRzKSk7CgoJJHRoaW5nID0gKCR0aGlu
Zz09PW51bGwpID8gJ1NoYXJlIG9uIExpbmtlZEluJyA6IHBhcnNlKCR0aGluZyk7CgoJJHVy
bCA9IF9hcmNfc29jaWFsX3NoYXJlX3VybCgkdXJsKTsKCSR0aXRsZSA9IF9hcmNfc29jaWFs
X3NoYXJlX3RpdGxlKCR0aXRsZSk7Cgkkc291cmNlID0gJHNvdXJjZT09PW51bGwgJiYgIWVt
cHR5KCRwcmVmc1snc2l0ZW5hbWUnXSkgPyB1cmxkZWNvZGUoJHByZWZzWydzaXRlbmFtZSdd
KSA6IHVybGVuY29kZSgkc291cmNlKTsKCgkkbGluayA9ICJodHRwOi8vd3d3LmxpbmtlZGlu
LmNvbS9zaGFyZUFydGljbGU/bWluaT10cnVlJmFtcDt1cmw9JHVybCZhbXA7dGl0bGU9JHRp
dGxlJmFtcDtzb3VyY2U9JHNvdXJjZSI7CgoJaWYgKCFlbXB0eSgkc3VtbWFyeSkpIHsKCQkk
bGluayAuPSAiJmFtcDtzdW1tYXJ5PSRzdW1tYXJ5IjsKCX0KCgkkaHRtbCA9IGhyZWYoJHRo
aW5nLCAkbGluaywgJyBjbGFzcz0iJy4kY2xhc3MuJyInKTsKCglyZXR1cm4gJGh0bWw7Cn0K
CmZ1bmN0aW9uIGFyY19zb2NpYWxfc2hhcmVfcGludGVyZXN0KCRhdHRzLCAkdGhpbmc9bnVs
bCkKewoJZXh0cmFjdChsQXR0cyhhcnJheSgKCQknY2xhc3MnID0+ICcnLAoJCSdpbWFnZScg
PT4gbnVsbCwKCQkndGl0bGUnID0+IG51bGwsCgkJJ3VybCcgPT4gbnVsbAoJKSwgJGF0dHMp
KTsKCgkkdGhpbmcgPSAoJHRoaW5nPT09bnVsbCkgPyAnU2hhcmUgb24gUGludGVyZXN0JyA6
IHBhcnNlKCR0aGluZyk7CgoJJHVybCA9IF9hcmNfc29jaWFsX3NoYXJlX3VybCgkdXJsKTsK
CSR0aXRsZSA9IF9hcmNfc29jaWFsX3NoYXJlX3RpdGxlKCR0aXRsZSk7CgkkaW1hZ2UgPSBf
YXJjX3NvY2lhbF9zaGFyZV9pbWFnZSgkaW1hZ2UpOwoKCSRsaW5rID0gImh0dHA6Ly93d3cu
cGludGVyZXN0LmNvbS9waW4vY3JlYXRlL2J1dHRvbi8/dXJsPSR1cmwmYW1wO2Rlc2NyaXB0
aW9uPSR0aXRsZSI7CglpZiAoJGltYWdlKSB7CgkJJGxpbmsgLj0gIiZhbXA7bWVkaWE9JGlt
YWdlIjsKCX0KCgkkaHRtbCA9IGhyZWYoJHRoaW5nLCAkbGluaywgJyBjbGFzcz0iJy4kY2xh
c3MuJyInKTsKCglyZXR1cm4gJGh0bWw7Cn0KCmZ1bmN0aW9uIGFyY19zb2NpYWxfc2hhcmVf
cG9ja2V0KCRhdHRzLCAkdGhpbmc9bnVsbCkKewoJZXh0cmFjdChsQXR0cyhhcnJheSgKCQkn
Y2xhc3MnID0+ICcnLAoJCSd0aXRsZScgPT4gbnVsbCwKCQkndXJsJyA9PiBudWxsCgkpLCAk
YXR0cykpOwoKCSR0aGluZyA9ICgkdGhpbmc9PT1udWxsKSA/ICdBZGQgdG8gUG9ja2V0JyA6
IHBhcnNlKCR0aGluZyk7CgoJJHVybCA9IF9hcmNfc29jaWFsX3NoYXJlX3VybCgkdXJsKTsK
CSR0aXRsZSA9IF9hcmNfc29jaWFsX3NoYXJlX3RpdGxlKCR0aXRsZSk7CgoJJGxpbmsgPSAi
aHR0cDovL3d3dy5waW50ZXJlc3QuY29tL3Bpbi9jcmVhdGUvYnV0dG9uLz91cmw9JHVybCZh
bXA7ZGVzY3JpcHRpb249JHRpdGxlIjsKCgkkaHRtbCA9IGhyZWYoJHRoaW5nLCAkbGluaywg
JyBjbGFzcz0iJy4kY2xhc3MuJyInKTsKCglyZXR1cm4gJGh0bWw7Cn0KCmZ1bmN0aW9uIGFy
Y19zb2NpYWxfc2hhcmVfcmVkZGl0KCRhdHRzLCAkdGhpbmc9bnVsbCkKewoJZ2xvYmFsICR0
aGlzYXJ0aWNsZTsKCglleHRyYWN0KGxBdHRzKGFycmF5KAoJCSdjbGFzcycgPT4gJycsCgkJ
J3RpdGxlJyA9PiBudWxsLAoJCSd1cmwnID0+IG51bGwKCSksICRhdHRzKSk7CgoJJHRoaW5n
ID0gKCR0aGluZz09PW51bGwpID8gJ1NoYXJlIG9uIERlbGljaW91cycgOiBwYXJzZSgkdGhp
bmcpOwoKCSR1cmwgPSAkdXJsPT09bnVsbCAmJiAhZW1wdHkoJHRoaXNhcnRpY2xlWyd0aGlz
aWQnXSkgPyB1cmxlbmNvZGUocGVybWxpbmt1cmxfaWQoJHRoaXNhcnRpY2xlWyd0aGlzaWQn
XSkpIDogdXJsZW5jb2RlKCR1cmwpOwoJJHRpdGxlID0gJHRpdGxlPT09bnVsbCAmJiAhZW1w
dHkoJHRoaXNhcnRpY2xlWyd0aXRsZSddKSA/IHVybGVuY29kZSgkdGhpc2FydGljbGVbJ3Rp
dGxlJ10pIDogdXJsZW5jb2RlKCR0aXRsZSk7CgoJJGxpbmsgPSAiaHR0cDovL3d3dy5yZWRk
aXQuY29tL3N1Ym1pdD8kdXJsJmFtcDt0aXRsZT0kdGl0bGUiOwoKCSRodG1sID0gaHJlZigk
dGhpbmcsICRsaW5rLCAnIGNsYXNzPSInLiRjbGFzcy4nIicpOwoKCXJldHVybiAkaHRtbDsK
fQoKZnVuY3Rpb24gYXJjX3NvY2lhbF9zaGFyZV9zdHVtYmxldXBvbigkYXR0cywgJHRoaW5n
PW51bGwpCnsKCWV4dHJhY3QobEF0dHMoYXJyYXkoCgkJJ2NsYXNzJyA9PiAnJywKCQkndGl0
bGUnID0+IG51bGwsCgkJJ3VybCcgPT4gbnVsbAoJKSwgJGF0dHMpKTsKCgkkdGhpbmcgPSAo
JHRoaW5nPT09bnVsbCkgPyAnU2hhcmUgb24gRGVsaWNpb3VzJyA6IHBhcnNlKCR0aGluZyk7
CgoJJHVybCA9IF9hcmNfc29jaWFsX3NoYXJlX3VybCgkdXJsKTsKCSR0aXRsZSA9IF9hcmNf
c29jaWFsX3NoYXJlX3RpdGxlKCR0aXRsZSk7CgoJJGxpbmsgPSAiaHR0cDovL3d3dy5zdHVt
YmxldXBvbi5jb20vc3VibWl0PyR1cmwmYW1wO3RpdGxlPSR0aXRsZSI7CgoJJGh0bWwgPSBo
cmVmKCR0aGluZywgJGxpbmssICcgY2xhc3M9IicuJGNsYXNzLiciJyk7CgoJcmV0dXJuICRo
dG1sOwp9CgpmdW5jdGlvbiBhcmNfc29jaWFsX3NoYXJlX3R1bWJscigkYXR0cywgJHRoaW5n
PW51bGwpCnsKCWV4dHJhY3QobEF0dHMoYXJyYXkoCgkJJ2NsYXNzJyA9PiAnJywKCQkndGl0
bGUnID0+IG51bGwsCgkJJ3VybCcgPT4gbnVsbAoJKSwgJGF0dHMpKTsKCgkkdGhpbmcgPSAo
JHRoaW5nPT09bnVsbCkgPyAnU2hhcmUgb24gVHVtYmxyJyA6IHBhcnNlKCR0aGluZyk7CgoJ
JHVybCA9IF9hcmNfc29jaWFsX3NoYXJlX3VybCgkdXJsKTsKCSR0aXRsZSA9IF9hcmNfc29j
aWFsX3NoYXJlX3RpdGxlKCR0aXRsZSk7CgoJJGxpbmsgPSAiaHR0cDovL3d3dy50dW1ibHIu
Y29tL3NoYXJlP3Y9MyZhbXA7dT0kdXJsJmFtcDt0PSR0aXRsZSI7CgoJJGh0bWwgPSBocmVm
KCR0aGluZywgJGxpbmssICcgY2xhc3M9IicuJGNsYXNzLiciJyk7CgoJcmV0dXJuICRodG1s
OwoKfQoKZnVuY3Rpb24gYXJjX3NvY2lhbF9zaGFyZV90d2l0dGVyKCRhdHRzLCAkdGhpbmc9
bnVsbCkKewoJZ2xvYmFsICR0aGlzYXJ0aWNsZTsKCglleHRyYWN0KGxBdHRzKGFycmF5KAoJ
CSdjbGFzcycgPT4gJycsCgkJJ21lbnRpb24nID0+IG51bGwsCgkJJ3RpdGxlJyA9PiBudWxs
LAoJCSd1cmwnID0+IG51bGwKCSksICRhdHRzKSk7CgoJJHRoaW5nID0gKCR0aGluZz09PW51
bGwpID8gJ1NoYXJlIG9uIFR3aXR0ZXInIDogcGFyc2UoJHRoaW5nKTsKCgkkdXJsID0gJHVy
bD09PW51bGwgJiYgIWVtcHR5KCR0aGlzYXJ0aWNsZVsndGhpc2lkJ10pID8gdXJsZW5jb2Rl
KHBlcm1saW5rdXJsX2lkKCR0aGlzYXJ0aWNsZVsndGhpc2lkJ10pKSA6ICR1cmw7CgkkdGl0
bGUgPSAkdGl0bGU9PT1udWxsICYmICFlbXB0eSgkdGhpc2FydGljbGVbJ3RpdGxlJ10pID8g
dXJsZW5jb2RlKCR0aGlzYXJ0aWNsZVsndGl0bGUnXSkgOiB1cmxlbmNvZGUoJHRpdGxlKTsK
CgkkbGluayA9ICJodHRwOi8vdHdpdHRlci5jb20vaG9tZT9zdGF0dXM9JHRpdGxlKyR1cmwi
OwoKCWlmICghZW1wdHkoJG1lbnRpb24pKSB7CgkJJGxpbmsgLj0gdXJsZW5jb2RlKCIgL0Ak
bWVudGlvbiIpOwoJfQoKCSRodG1sID0gaHJlZigkdGhpbmcsICRsaW5rLCAnIGNsYXNzPSIn
LiRjbGFzcy4nIicpOwoKCXJldHVybiAkaHRtbDsKfQoKZnVuY3Rpb24gX2FyY19zb2NpYWxf
c2hhcmVfdGl0bGUoJHRpdGxlPW51bGwpCnsKCWdsb2JhbCAkdGhpc2FydGljbGU7CgoJJHRp
dGxlID0gJHRpdGxlPT09bnVsbCAmJiAhZW1wdHkoJHRoaXNhcnRpY2xlWyd0aXRsZSddKSA/
IHVybGVuY29kZSgkdGhpc2FydGljbGVbJ3RpdGxlJ10pIDogdXJsZW5jb2RlKCR0aXRsZSk7
CgoJcmV0dXJuICR0aXRsZTsKfQoKZnVuY3Rpb24gX2FyY19zb2NpYWxfc2hhcmVfdXJsKCR1
cmwpCnsKCWdsb2JhbCAkdGhpc2FydGljbGU7CgoJJHVybCA9ICR1cmw9PT1udWxsICYmICFl
bXB0eSgkdGhpc2FydGljbGVbJ3RoaXNpZCddKSA/IHVybGVuY29kZShwZXJtbGlua3VybF9p
ZCgkdGhpc2FydGljbGVbJ3RoaXNpZCddKSkgOiAkdXJsOwoKCXJldHVybiAkdXJsOwp9Cgpm
dW5jdGlvbiBfYXJjX3NvY2lhbF9zaGFyZV9pbWFnZSgkaW1hZ2U9bnVsbCkKewoJZ2xvYmFs
ICR0aGlzYXJ0aWNsZTsKCglpZiAoJGltYWdlPT09bnVsbCAmJiAhZW1wdHkoJHRoaXNhcnRp
Y2xlWydhcnRpY2xlX2ltYWdlJ10pKSB7CgoJCSRpbWFnZSA9ICR0aGlzYXJ0aWNsZVsnYXJ0
aWNsZV9pbWFnZSddOwoKCQlpZiAoaW50dmFsKCRpbWFnZSkpIHsKCgkJCWlmICgkcnMgPSBz
YWZlX3JvdygnKicsICd0eHBfaW1hZ2UnLCAnaWQgPSAnIC4gaW50dmFsKCRpbWFnZSkpKSB7
CgkJCQkkaW1hZ2UgPSB1cmxlbmNvZGUoaW1hZ2VzcmN1cmwoJHJzWydpZCddLCAkcnNbJ2V4
dCddKSk7CgkJCX0gZWxzZSB7CgkJCQkkaW1hZ2UgPSBudWxsOwoJCQl9CgoJCX0KCgl9CgoJ
cmV0dXJuICRpbWFnZTsKfQoKIjtzOjM6Im1kNSI7czozMjoiNzllMTIyNjhjOTYzNTk2YWE4
NjczOTg2MmVlNWI1YmMiO30=
